@startuml
!define DIRECTION top to bottom direction

skinparam packageStyle rectangle
skinparam linetype ortho

package "controller" as controller {
  class PedidoController
  class ContratoController
  class UsuarioController
  class ClienteController
  class AgenteController
}

package "service" as service {
  class UsuarioService
  class ClienteService
  class AgenteService
  class PedidoService
  class ContratoService
}

package "dto" as dto {
  class PedidoRequest
  class UsuarioRequest
  class LoginRequest
  class ClienteRequest
  class AgenteRequest
  class ContratoRequest
  class AutomovelRequest

  class PedidoResponse
  class UsuarioResponse
  class ClienteResponse
  class AgenteResponse
  class ContratoResponse
  class AutomovelResponse
}

package "repository" as repository {
  interface UsuarioRepository
  interface ClienteRepository
  interface AgenteRepository
  interface PedidoRepository
  interface ContratoRepository
  interface AutomovelRepository
}

package "domain" as domain {
  class Usuario
  class Cliente
  class Agente
  class Pedido
  enum EstadoPedido
  class Contrato
  enum TipoContrato
  class Automovel
  enum TipoAgente
}

controller -down-> service : usa
service -down-> repository : usa
service -right-> dto : usa
dto -down-> domain : transforma


controller -[hidden]-> dto
service -[hidden]-> domain

@enduml